{"componentChunkName":"component---src-templates-post-tsx","path":"/react-vega.md/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"vega-란\" style=\"position:relative;\"><a href=\"#vega-%EB%9E%80\" aria-label=\"vega 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vega 란</h2>\n<p>공홈 : <a href=\"https://vega.github.io/vega/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://vega.github.io/vega/</a></p>\n<p>JSON 방식으로 시각화 문법을 작성하여 차트를 그리는 툴 입니다.</p>\n<p>d3.js 의 복잡한 메서드나 로직을 가지고 그리는 것이 아니라 vega에서 정해진 rule대로 json 을 작성하면 해당 규칙대로 차트를 그려줍니다.</p>\n<h3 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장점</h3>\n<ul>\n<li>config 처럼 셋팅만으로도 차트를 그릴 수 있습니다.</li>\n<li>온라인 툴을 제공하고 있어서 미리 셋팅된 config를 데이터 및 차트를 확인 할 수 있습니다.</li>\n<li>다양한 example을 제공하고 있습니다.</li>\n</ul>\n<h3 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단점</h3>\n<ul>\n<li>d3.js를 다뤄 보지 않았다면 용어나 단어에 의해 러닝커브가 발생 됩니다.</li>\n<li>config json에 차트 관련 메서드들도 string 값으로 넘겨야 하고, 정확히 무슨 값을 넘겨야 하는지 모른다면 방대한 문서를 읽어야 합니다.</li>\n<li>온라인 툴에서 미리 확인 할 수 있는 데이터가 너무 길어질 경우에는 온라인 툴에서 확인하기가 어렵습니다. ( 개인적으로 View 메서드를 이용해서 돌려보라고 안내해줍니다. )</li>\n</ul>\n<h2 id=\"react-vega\" style=\"position:relative;\"><a href=\"#react-vega\" aria-label=\"react vega permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-vega</h2>\n<p>github : <a href=\"https://github.com/vega/react-vega/tree/master/packages/react-vega\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/vega/react-vega/tree/master/packages/react-vega</a></p>\n<p>vega로 그려지는 차트를 컴포넌트로 만들어주는 라이브러리</p>\n<ul>\n<li>차트를 그리는 config 를 입력으로 받아 컴포넌트를 만든다.</li>\n<li>\n<p>해당 컴포넌트의 props API는 <a href=\"https://github.com/vega/vega-embed\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/vega/vega-embed</a> API 를 참고하면 됩니다.</p>\n<ul>\n<li>mode, theme, defaultStyle, renderer, logLovel, tooltip, loader, patch, width, height, padding, actions, scaleFactor, config, editorUrl, sourceHeader, sourceFooter, hover, i18n, downloadFileName</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"사용\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9\" aria-label=\"사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용</h2>\n<p>example code : <a href=\"https://github.com/vega/react-vega/tree/master/packages/react-vega#example-code\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/vega/react-vega/tree/master/packages/react-vega#example-code</a></p>\n<h3 id=\"예시--트리-차트-\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C--%ED%8A%B8%EB%A6%AC-%EC%B0%A8%ED%8A%B8-\" aria-label=\"예시  트리 차트  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시 ( 트리 차트 )</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createClassFromSpec <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-vega\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">createClassFromSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  mode<span class=\"token operator\">:</span> <span class=\"token string\">\"vega\"</span><span class=\"token punctuation\">,</span>\n  spec<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    $schema<span class=\"token operator\">:</span> <span class=\"token string\">\"https://vega.github.io/schema/vega/v5.json\"</span><span class=\"token punctuation\">,</span>\n    width<span class=\"token operator\">:</span> <span class=\"token number\">1200</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// height: 1500,</span>\n    padding<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n    background<span class=\"token operator\">:</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">,</span>\n    autosize<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fit-x\"</span><span class=\"token punctuation\">,</span> contains<span class=\"token operator\">:</span> <span class=\"token string\">\"padding\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    signals<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token comment\">// 대화 형 동작을 유도 할 수있는 동적 변수</span>\n      <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"firebrick\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">\"colorOut\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"forestgreen\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"active\"</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 마우스 오버에 따라서 active value에 동적으로 다른 값이 들어간다. </span>\n        on<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"text:mouseover\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.id\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"mouseover[!event.item]\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"null\"</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"activeNode\"</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 마우스 오버에 따라서 active value에 동적으로 다른 값이 들어간다. </span>\n        on<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"text:mouseover\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"datum\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"mouseover[!event.item]\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"null\"</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"activeParent\"</span><span class=\"token punctuation\">,</span>\n        value<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 마우스 오버에 따라서 active value에 동적으로 다른 값이 들어간다. </span>\n        on<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"text:mouseover\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.parent\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span> events<span class=\"token operator\">:</span> <span class=\"token string\">\"mouseover[!event.item]\"</span><span class=\"token punctuation\">,</span> update<span class=\"token operator\">:</span> <span class=\"token string\">\"null\"</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token comment\">// 데이터 세트 정의 및 변환은 로드 할 데이터와 처리 방법을 정의합니다.</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// values: [# 데이터가 들어갈 영역],</span>\n        transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"stratify\"</span><span class=\"token punctuation\">,</span>\n            key<span class=\"token operator\">:</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span>\n            parentKey<span class=\"token operator\">:</span> <span class=\"token string\">\"parent\"</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span><span class=\"token punctuation\">,</span>\n            method<span class=\"token operator\">:</span> <span class=\"token string\">\"tidy\"</span><span class=\"token punctuation\">,</span>\n            size<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"height\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"width\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            separation<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">as</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"depth\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"children\"</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"formula\"</span><span class=\"token punctuation\">,</span>\n            expr<span class=\"token operator\">:</span> <span class=\"token string\">\"slice(datum.id, 0, 1)\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">as</span><span class=\"token operator\">:</span> <span class=\"token string\">\"type\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> \n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"links\"</span><span class=\"token punctuation\">,</span>\n        source<span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span><span class=\"token punctuation\">,</span>\n        transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"treelinks\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linkpath\"</span><span class=\"token punctuation\">,</span>\n            orient<span class=\"token operator\">:</span> <span class=\"token string\">\"horizontal\"</span><span class=\"token punctuation\">,</span>\n            shape<span class=\"token operator\">:</span> <span class=\"token string\">\"diagonal\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> \n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"ancestors\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 기존 tree 데이터를 기반으로 ancestor를 생성한 파생된 데이터를 만든다.</span>\n        source<span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span><span class=\"token punctuation\">,</span>\n        transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"formula\"</span><span class=\"token punctuation\">,</span>\n            expr<span class=\"token operator\">:</span> <span class=\"token string\">\"treeAncestors('tree', datum.id)\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 리턴 배열</span>\n            <span class=\"token keyword\">as</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ancestors\"</span><span class=\"token punctuation\">,</span>\n            initonly<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"treeAncestorsFlatten\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// ancestors 데이터를 기반으로 배열값인 ancestors 열 값을 flatten 하게 만든다.</span>\n        source<span class=\"token operator\">:</span> <span class=\"token string\">\"ancestors\"</span><span class=\"token punctuation\">,</span>\n        transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"flatten\"</span><span class=\"token punctuation\">,</span> fields<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"ancestors\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"selected\"</span><span class=\"token punctuation\">,</span>\n        source<span class=\"token operator\">:</span> <span class=\"token string\">\"treeAncestorsFlatten\"</span><span class=\"token punctuation\">,</span>\n        transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"filter\"</span><span class=\"token punctuation\">,</span>\n            expr<span class=\"token operator\">:</span>\n              <span class=\"token string\">\"datum.id === active || datum.parent === active || datum.id === activeParent || datum.ancestors.id === active\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    marks<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data<span class=\"token operator\">:</span> <span class=\"token string\">\"links\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        encode<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          update<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            path<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> field<span class=\"token operator\">:</span> <span class=\"token string\">\"path\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            stroke<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span>\n                test<span class=\"token operator\">:</span>\n                  <span class=\"token string\">\"indata('selected', 'id', datum.source.id) &amp;&amp; indata('selected', 'id', datum.target.id)\"</span><span class=\"token punctuation\">,</span>\n                signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                test<span class=\"token operator\">:</span>\n                  <span class=\"token string\">\"indata('selected', 'ancestors.id', datum.source.id) &amp;&amp; indata('selected', 'ancestors.id', datum.target.id)\"</span><span class=\"token punctuation\">,</span>\n                signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"#ddd\"</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"symbol\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data<span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        encode<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          enter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            size<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token number\">100</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            stroke<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"#fff\"</span> <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          update<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> field<span class=\"token operator\">:</span> <span class=\"token string\">\"x\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            y<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> field<span class=\"token operator\">:</span> <span class=\"token string\">\"y\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            fill<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span> test<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.id === active\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span> test<span class=\"token operator\">:</span> <span class=\"token string\">\"indata('selected', 'id', datum.id)\"</span><span class=\"token punctuation\">,</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                test<span class=\"token operator\">:</span> <span class=\"token string\">\"indata('selected', 'ancestors.id', datum.id)\"</span><span class=\"token punctuation\">,</span>\n                signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"#e4cccc\"</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data<span class=\"token operator\">:</span> <span class=\"token string\">\"tree\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        encode<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          enter<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            text<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.id + ' ' + datum.name\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            fontSize<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token number\">12</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            baseline<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"middle\"</span> <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          update<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> field<span class=\"token operator\">:</span> <span class=\"token string\">\"x\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            y<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> field<span class=\"token operator\">:</span> <span class=\"token string\">\"y\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            dx<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.children ? -7 : 7\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            align<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.children ? 'right' : 'left'\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            tooltip<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.name\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            fill<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span> test<span class=\"token operator\">:</span> <span class=\"token string\">\"datum.id === active\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span> test<span class=\"token operator\">:</span> <span class=\"token string\">\"indata('selected', 'id', datum.id)\"</span><span class=\"token punctuation\">,</span> signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                test<span class=\"token operator\">:</span> <span class=\"token string\">\"indata('selected', 'ancestors.id', datum.id)\"</span><span class=\"token punctuation\">,</span>\n                signal<span class=\"token operator\">:</span> <span class=\"token string\">\"colorIn\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n              <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"#333\"</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 사용법</span>\n<span class=\"token operator\">&lt;</span>TagTreeChart\n  data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>tagChartData<span class=\"token punctuation\">}</span>\n  actions<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span>\n  height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>resultChartHeight<span class=\"token punctuation\">}</span>\n  renderer<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"svg\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>TagTreeChart<span class=\"token operator\">></span></code></pre></div>","excerpt":"vega 란 공홈 : https://vega.github.io/vega/ JSON 방식으로 시각화 문법을 작성하여 차트를 그리는 툴 입니다. d3.js 의 복잡한 메서드나 로직을 가지고 그리는 것이 아니라 vega에서 정해진 rule대로 json…","tableOfContents":"<ul>\n<li>\n<p><a href=\"/ho_blog/react-vega.md/#vega-%EB%9E%80\">vega 란</a></p>\n<ul>\n<li><a href=\"/ho_blog/react-vega.md/#%EC%9E%A5%EC%A0%90\">장점</a></li>\n<li><a href=\"/ho_blog/react-vega.md/#%EB%8B%A8%EC%A0%90\">단점</a></li>\n</ul>\n</li>\n<li><a href=\"/ho_blog/react-vega.md/#react-vega\">react-vega</a></li>\n<li>\n<p><a href=\"/ho_blog/react-vega.md/#%EC%82%AC%EC%9A%A9\">사용</a></p>\n<ul>\n<li><a href=\"/ho_blog/react-vega.md/#%EC%98%88%EC%8B%9C--%ED%8A%B8%EB%A6%AC-%EC%B0%A8%ED%8A%B8-\">예시 ( 트리 차트 )</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/react-vega.md/"},"frontmatter":{"title":"react-vega","date":"Mar 12, 2020","tags":["undefined"],"keywords":["Merlin Tech Blog","Merlin.ho"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/react-vega.md/","series":[],"lastmod":"0001-01-01"}}}